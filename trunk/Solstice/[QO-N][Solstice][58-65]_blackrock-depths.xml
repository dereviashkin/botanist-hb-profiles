<HBProfile creator="Botanist" version="1.0">
	<Name>[QO-N][Solstice][58-65]_blackrock-depths</Name>
   
	<MinLevel>1</MinLevel>
	<MaxLevel>101</MaxLevel>
   
	<MinDurability>-1</MinDurability>
	<MinFreeBagSlots>-1</MinFreeBagSlots>
	
	<MailGrey>False</MailGrey>
	<MailWhite>False</MailWhite>
	<MailGreen>False</MailGreen>
	<MailBlue>False</MailBlue>
	<MailPurple>False</MailPurple>
   
	<SellGrey>False</SellGrey>
	<SellWhite>False</SellWhite>
	<SellGreen>False</SellGreen>
	<SellBlue>False</SellBlue>
	<SellPurple>False</SellPurple>
   
	<TargetElites>True</TargetElites>
	
	<AvoidMobs>	
		<Mob Name="Summon Enabler Stalker" Entry="53488" />
	</AvoidMobs>
	
	<Blackspots>
	</Blackspots>

	<Mailboxes>
	</Mailboxes>
 
	<Vendors>
	</Vendors>
	
	<ProtectedItems>
	</ProtectedItems>

	<Factions>
	</Factions>
	
	<QuestOrder>
		<ClearVendor />
		<ClearMailbox />

		<If Condition="Me.Level &gt;= 58">
		
			<CustomBehavior File="Message" 
							Text="You meet the level requirement to run this profile." 
							LogColor="Fuchsia" />
		
		 	<!-- Booster UserSettings -->
			<CustomBehavior File="UserSettings"
							AdvancedSettingsMode="True"
							FindMountAutomatically="True"
							FindVendorsAutomatically="False"
							GroundMountFarmingMode="False"
							HarvestHerbs="False"
							HarvestMinerals="False"
							KillBetweenHotspots="True"
							LogoutForInactivity="False"
							LogoutInactivityUseForceQuit="False"
							LootChests="False"
							LootMobs="True"
							LootRadius="1"
							MountDistance="75"
							MountName=""
							NinjaSkin="False"
							ProfileDebuggingMode="False"
							PullDistance="25"
							RessAtSpiritHealers="False"
							SkinMobs="False"
							UseFlightPaths="True"
							UseMount="True" 
							UseRandomMount="False" />
							
			<!-- Infinite loop -->
			<While Condition="true" >
				
				<!-- If we are inside Blackrock Depths -->
				<If Condition="Me.ZoneId == 1584">
					<CustomBehavior File="Message" 
									Text="Blackrock Depths detected. Running out."
									LogColor="Fuchsia" />
					
					<RunTo X="460.6402" Y="15.41037" Z="-71.11736" />
					
					<!-- Go through the portal -->
					<CustomBehavior File="Misc\InInstance" X="456.6543" Y="46.70397" Z="-69.00373" />	
					
					<!-- Make sure we run to the right spot outside the portal -->
					<RunTo X="-7178.41" Y="-922.152" Z="166.092" />	
				</If> <!-- BRD -->
			
				<!-- If we are not in the box, load the movement profile -->
				<If Condition="Me.X &lt; -7200 || Me.X &gt; -7000 || Me.Y &gt; -900 || Me.Y &lt; -1000" >
					<CustomBehavior File="Message" 
									Text="Distance from portal is not within our proximity, initializing movement to get there."
									LogColor="Fuchsia" />	
									
					<CustomBehavior File="LoadProfile" 
									ProfileName="Movement\[QO-N-M][Solstice][58-65]_blackrock-depths" />
				</If> <!-- Not in box -->
				
				<!-- If we are in the box -->
				<If Condition="Me.X &gt; -7200 &amp;&amp; Me.X &lt; -7000 &amp;&amp; Me.Y &lt; -900 &amp;&amp; Me.Y &gt; -1000" >
					<CustomBehavior File="Message" 
									Text="Portal detected nearby."
									LogColor="Fuchsia" />	
						
					<!-- Resetting the instance -->
					<CustomBehavior File="Message" 
									Text="Resetting the instance." 
									LogColor="Fuchsia" />
					
					<CustomBehavior File="RunMacro" Macro="/script ResetInstances()" />
					<CustomBehavior File="RunMacro" Macro="/script SetDungeonDifficultyID(1)" />
										
					<CustomBehavior File="Message" 
									Text="Instance reset." 
									LogColor="Fuchsia" />	
						
					<!-- If we didn't enter the instance, wait 20 seconds then attempt to enter again -->
					<While Condition="Me.ZoneId != 1584">
						<!-- Make sure we run to the right spot outside the portal -->
						<RunTo X="-7178.41" Y="-922.152" Z="166.092" />

						<!-- Run back in the Blackrock Depths portal -->
						<CustomBehavior File="Misc\InInstance" X="-7179.068" Y="-937.434" Z="166.4007" />
										
						<CustomBehavior File="Message" 
										Text="Waiting for the dungeon to load." 
										LogColor="Fuchsia" />
									
						<CustomBehavior File="WaitTimer" 
										WaitTime="20000" 
										VariantTime="20000" />	
										
						<!-- If we still aren't in, we're locked out -->
						<If Condition="Me.ZoneId != 1584">
							<CustomBehavior File="Message" 
											Text="We are locked out. Waiting and trying again." 
											LogColor="Fuchsia" />
						</If> <!-- Locked -->
					</While> <!-- While we aren't in the instance -->
				</If> <!-- In box -->
				
				<!-- If we are inside Blackrock Depths and have checked our reset -->
				<If Condition="Me.ZoneId == 1584">
				
					<!-- Entrance -->
					<RunTo X="456.929" Y="34.0923" Z="-69.56168" />
								
					<!-- Instance timer -->
					<CustomBehavior File="Misc\InstanceTimer" Timer="Start" />
					
					<CustomBehavior File="Message" 
									Text="Blackrock Depths initialized."  
									LogColor="Fuchsia" />

		<!-- ****************************************************************** level 58-60 ********************************************************************************* -->							
									
								
					<!-- If we are level 58-60 -->				
					<If Condition="Me.Level &gt;= 58 &amp;&amp; Me.Level &lt; 62">					
						
						<!-- Profile message - We are below level 60, clearing the Detention Bloock and the Hall of the Law -->
						<CustomBehavior File="Message" 
									Text="We are below level 60, clearing the Detention Block and the Hall of the Law."  
									LogColor="Fuchsia" />
									
						<!-- Run to first Shadowforge Gate -->
						<RunTo X="493.8814" Y="14.29045" Z="-70.35346" />
										
						<!-- First Shadowforge Gate interact -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="170559"
										NumOfTimes="1"
										X="496.3966"
										Y="16.012654"
										Z="-70.47108" />	
										
						<!-- Run through the gate -->
						<RunTo X="525.9897" Y="19.44355" Z="-71.12934" />
						
						<!-- Make sure we kill the fire elemental for the RAFs -->
						<CustomBehavior File="TargetAndMoveToMob" 
										MobId="8910" 
										MoveWithinMaxRangeOfMob="1" 
										WaitForNpcs="false"
										X="564.9453" Y="21.04286" Z="-70.8724" />		
										
						<!-- Run to second Shadowforge Gate -->	
						<RunTo X="567.6488" Y="-7.285117" Z="-70.21188" />
						
						<!-- Second Shadowforge Gate interact -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="170560"
										NumOfTimes="1"
										X="569.58905"
										Y="-9.361542"
										Z="-70.25659" />
										
						<!-- Run to East Garrison Door -->
						<RunTo X="559.0313" Y="-50.95553" Z="-60.35724" />	
						
						<!-- East Garrison Door interact -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="170570"
										NumOfTimes="1"
										X="560.5311"
										Y="-51.815918"
										Z="-60.09396" />
						
						<!-- Clear the mobs around the shadowforge lock -->
						<RunTo X="588.4838" Y="-54.93147" Z="-60.02966" />
						<RunTo X="608.5394" Y="-42.24035" Z="-60.0567" />
						<RunTo X="625.5956" Y="-59.76411" Z="-60.05775" />
						
						<!-- Run to the locked Shadowforge door -->
						<RunTo X="595.365" Y="-83.31924" Z="-45.46269" />
						<RunTo X="605.9026" Y="-98.71165" Z="-45.65218" />
						<RunTo X="627.5804" Y="-80.00131" Z="-45.7589" />
						<RunTo X="629.2542" Y="-119.6202" Z="-46.2336" />
						<RunTo X="667.8533" Y="-138.5334" Z="-46.2336" />
						<RunTo X="692.5422" Y="-130.9733" Z="-46.2336" />
						<RunTo X="570.2984" Y="-99.68627" Z="-45.021" />
						<RunTo X="568.1053" Y="-80.57632" Z="-45.02095" />
						<RunTo X="554.3058" Y="-48.51811" Z="-61.52999" />
						
						<!-- Clear the Halls of the Law -->
						<RunTo X="505.4184" Y="-157.0712" Z="-62.45085" />
						<RunTo X="510.9399" Y="-200.279" Z="-59.69955" />
						<RunTo X="521.6545" Y="-233.6336" Z="-64.01038" />
						<RunTo X="533.1072" Y="-246.0213" Z="-67.36098" />
						<RunTo X="552.1949" Y="-247.8166" Z="-70.43823" />
						<RunTo X="552.7492" Y="-272.0602" Z="-74.49612" />
						
						<RunTo X="583.8792" Y="-285.4722" Z="-82.31654" />
						<RunTo X="628.5417" Y="-272.827" Z="-83.88913" />
						<RunTo X="653.0618" Y="-228.5773" Z="-83.51676" />
						<RunTo X="650.4058" Y="-193.2499" Z="-76.03373" />
						<RunTo X="658.0222" Y="-153.7261" Z="-72.82818" />
						<RunTo X="632.5852" Y="-155.9217" Z="-70.86108" />
						<RunTo X="591.6264" Y="-137.386" Z="-69.02714" />
						<RunTo X="563.1211" Y="-120.9213" Z="-62.59064" />
						<RunTo X="537.7206" Y="-117.2143" Z="-63.24084" />
						
						<!-- Clear the Halls of the Law -->
						<RunTo X="450.1302" Y="-110.7295" Z="-64.81695" />
						<RunTo X="437.3691" Y="-113.7309" Z="-65.06701" />
						<RunTo X="401.863" Y="-114.855" Z="-65.31319" />
						<RunTo X="373.1948" Y="-111.3294" Z="-64.94897" />
						<RunTo X="389.2377" Y="-148.7997" Z="-64.94897" />
						<RunTo X="345.8087" Y="-119.561" Z="-64.94897" />
						<RunTo X="360.2771" Y="-158.5457" Z="-64.94897" />
						<RunTo X="312.6163" Y="-144.3365" Z="-70.38616" />
						<RunTo X="267.0547" Y="-145.57" Z="-72.40283" />
						<RunTo X="286.7085" Y="-91.33114" Z="-76.08665" />
					</If>				
								
		<!-- ****************************************************************** level 60-62 ********************************************************************************* -->
								
					<!-- If we are level 60-62 -->				
					<If Condition="Me.Level &gt;= 60 &amp;&amp; Me.Level &lt; 62">	

						<!-- Profile message - We are below level 60 higher level mobs will be avoided -->
						<CustomBehavior File="Message" 
									Text="We are above level 60, but less than 62, we will clear XXXXXXXXXXXXXXXXXXXXXXX."  
									LogColor="Fuchsia" />
					
						<!-- Run to first Shadowforge Gate -->
						<RunTo X="493.8814" Y="14.29045" Z="-70.35346" />
										
						<!-- First Shadowforge Gate interact -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="170559"
										NumOfTimes="1"
										X="496.3966"
										Y="16.012654"
										Z="-70.47108" />	
										
						<!-- Run through the gate -->
						<RunTo X="525.9897" Y="19.44355" Z="-71.12934" />
						
						<!-- Make sure we kill the fire elemental for the RAFs -->
						<CustomBehavior File="TargetAndMoveToMob" 
										MobId="8910" 
										MoveWithinMaxRangeOfMob="1" 
										WaitForNpcs="false"
										X="564.9453" Y="21.04286" Z="-70.8724" />		
										
						<!-- Run to second Shadowforge Gate -->	
						<RunTo X="567.6488" Y="-7.285117" Z="-70.21188" />
						
						<!-- Second Shadowforge Gate interact -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="170560"
										NumOfTimes="1"
										X="569.58905"
										Y="-9.361542"
										Z="-70.25659" />
										
						<!-- Run to East Garrison Door -->
						<RunTo X="559.0313" Y="-50.95553" Z="-60.35724" />	
						
						<!-- East Garrison Door interact -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="170570"
										NumOfTimes="1"
										X="560.5311"
										Y="-51.815918"
										Z="-60.09396" />
						
						<!-- Clear the mobs around the cog -->
						<RunTo X="588.4838" Y="-54.93147" Z="-60.02966" />
						<RunTo X="608.5394" Y="-42.24035" Z="-60.0567" />
						<RunTo X="625.5956" Y="-59.76411" Z="-60.05775" />					
							
						<!-- Interact with the shadowforge lock -->
						<CustomBehavior File="InteractWith"
										ObjectType="GameObject"
										MobId="161460"
										NumOfTimes="1"
										X="615.614136"
										Y="-49.78228"
										Z="-60.0557327" />	
						
						<!-- Run to the shadowforge door -->
						<RunTo X="568.7862" Y="-80.15336" Z="-45.021" />
						<RunTo X="571.4559" Y="-100.1593" Z="-45.02096" />
						<RunTo X="629.1298" Y="-105.5865" Z="-46.0659" />
						<RunTo X="668.9583" Y="-140.7404" Z="-46.23244" />
						<RunTo X="691.9852" Y="-130.4774" Z="-46.23244" />
							
						<!-- Run through the shadowforge door -->
						<RunTo X="748.2906" Y="-80.01416" Z="-46.23371" />
										
						<!-- Move to the Manufactory entrance -->				
						<RunTo X="761.17" Y="-66.06573" Z="-46.23371" />
						<RunTo X="760.136" Y="-50.11547" Z="-46.23371" />	
						<RunTo X="739.5841" Y="-18.6582" Z="-46.23373" />
						<RunTo X="699.1884" Y="-12.78341" Z="-45.68956" />
						<RunTo X="700.6929" Y="15.0586" Z="-45.48966" />
						<RunTo X="714.011" Y="30.73447" Z="-45.44157" />	
						<RunTo X="689.0135" Y="54.26608" Z="-45.46696" />
						<RunTo X="714.4448" Y="60.51033" Z="-45.02098" />
						<RunTo X="751.491" Y="22.27815" Z="-53.65819" />
						
						<!-- Clear the Manufactory -->
						<RunTo X="760.9086" Y="21.13323" Z="-53.65815" />
						<RunTo X="758.1545" Y="47.8636" Z="-53.67989" />
						<RunTo X="777.7058" Y="49.3395" Z="-53.73438" />
						<RunTo X="801.7947" Y="52.01999" Z="-53.67607" />
						<RunTo X="798.8179" Y="2.191939" Z="-53.7282" />
						<RunTo X="788.1943" Y="-35.62304" Z="-53.72736" />

					</If>
							
		<!-- ****************************************************************** level 62-65 ********************************************************************************* -->
							
					<!-- If we are level 62 or above -->			
					<If Condition="Me.Level &gt;= 62">
								
						<!-- Profile message - We are level 60 or above, we are no longer avoiding the higher level mobs -->
						<CustomBehavior File="Message" 
									Text="We are level 60 or above, we are no longer avoiding the higher level mobs."  
									LogColor="Fuchsia" />		
								
						<!-- Run to the mole machine -->		
						<RunTo X="449.5046" Y="22.69775" Z="-70.67482" />
						
						<!-- Interact with the mole machine -->
						<CustomBehavior File="InteractWith" MobId="207401" GossipOptions="1" NumOfTimes="1"  X="444.794922" Y="21.6984711" Z="-70.6062241" />
						<CustomBehavior File="WaitTimer" WaitTime="3000" />
										
						<!-- Run to the 1st group of mobs -->
						<RunTo X="949.1423" Y="-266.4088" Z="-50.09531" />
						<RunTo X="939.4213" Y="-259.1587" Z="-50.05931" />				
										
						<!-- Run to the 2nd group of mobs -->	
						<RunTo X="924.133" Y="-244.802" Z="-49.93691" />
						<RunTo X="902.5978" Y="-233.7959" Z="-49.93691" />

						<!-- Run to the 2nd group of mobs -->				
						<RunTo X="933.9191" Y="-235.3864" Z="-50.09817" />
										
						<!-- Run to the Mold Foundry -->				
						<RunTo X="983.1216" Y="-211.9915" Z="-61.78907" />
						<RunTo X="997.7975" Y="-216.2273" Z="-61.78907" />
						<RunTo X="1027.789" Y="-216.2615" Z="-61.78912" />
						<RunTo X="1081.353" Y="-170.2692" Z="-65.30815" />

						<!-- Pull the 1st Molten War Golem -->
						<RunTo X="1091.369" Y="-159.1916" Z="-65.30815" />

						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->
						
						
						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->
						
						
						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->
						
						
						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->
						
						
						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->
						
						
						<!-- Pull the XXXXXXXXX -->


						<!-- Pull the XXXXXXXXX -->
						
						
						<!-- Run to the mole machine -->
						<RunTo X="931.9992" Y="-286.5975" Z="-49.93748" />

						<!-- Interact with the mole machine -->
						<CustomBehavior File="InteractWith" MobId="207402" GossipOptions="1" NumOfTimes="1"  X="933.2972" Y="-290.390167" Z="-49.9389954" />
						<CustomBehavior File="WaitTimer" WaitTime="3000" />

					</If>	<!-- If we are level 60 or above -->
					
					<!-- Run to the exit -->
					<RunTo X="456.929" Y="34.0923" Z="-69.56168" />
					
					<!-- If we are high enough to go to the next instance, do so -->
					<CustomBehavior File="Misc\LoadProfileOn" 
									MinLevel="65" 
									ProfileName="[QO-N][Solstice][65-67]_blackrock-spire.xml"  />
														
					<!-- Repair if necessary -->
					<If Condition="(Me.FreeBagSlots &lt;= 15) || (Me.LowestDurabilityPercent &lt;= 0.3)" >
					
						<!-- Profile message - Our durability is less than 30% or our bags are about full. Doing a vendor run -->
						<CustomBehavior File="Message" 
										Text="Our durability is less than 30% or our bags are about full. Doing a vendor run." 
										LogColor="Fuchsia" />
										
						<!-- If our hearthstone is set here, use it -->
						<If Condition="Me.HearthstoneAreaId == 5628" >
						<CustomBehavior File="Message" 
										Text="Our Innkeeper is set at Iron Summit." 
										LogColor="Cyan" />
										
						<!-- Have hearthstone -->
						<If Condition="HasItem(6948)">
							<CustomBehavior File="Message" 
											Text="Using Hearthstone." 
											LogColor="Lime" />
											
							<CustomBehavior File="Misc\RunLua" 
											Lua="UseItemByName(6948)" 
											WaitTime="1000" />
											
							<CustomBehavior File="WaitTimer" 
											WaitTime="20000" />
						</If> <!-- Have hearthstone -->
					
						<!-- Have Innkeeper's Daughter -->
						<If Condition="HasItem(64488)">
							<CustomBehavior File="Message" 
											Text="Using Innkeeper's Daughter." 
											LogColor="Lime" />
												
							<CustomBehavior File="Misc\RunLua" 
											Lua="UseItemByName(64488)" 
											WaitTime="1000" />
								
							<CustomBehavior File="WaitTimer" 
											WaitTime="20000" />
						</If> <!-- Have Innkeeper's Daughter -->

						<!-- If we are inside Blackrock Depths -->
						<If Condition="Me.ZoneId == 1584">
							<CustomBehavior File="Message" 
											Text="Blackrock Depths detected. Running out."
											LogColor="Fuchsia" />
							
							<RunTo X="460.6402" Y="15.41037" Z="-71.11736" />
							
							<!-- Go through the portal -->
							<CustomBehavior File="Misc\InInstance" X="456.6543" Y="46.70397" Z="-69.00373" />	
							
							<!-- Make sure we run to the right spot outside the portal -->
							<RunTo X="-7178.41" Y="-922.152" Z="166.092" />	
						</If> <!-- BRD -->
						
							<CustomBehavior File="ForceSetVendor" 
											DoMail="True" 
											DoRepair="True" 
											DoSell="False" 
											DoTrain="False" />
							
							<SetVendor>
								<Vendors>
									<!-- Iron Summit -->
									<Vendor Name="Fergus Gravelsmash" 
											Entry="47937" 
											Type="Repair" 
											X="-7093.68" Y="-1268.31" Z="270.4849" />
								</Vendors>
							</SetVendor>
					
							<SetMailbox>
								<Mailboxes>
									<!-- Iron Summit -->
									<Mailbox X="-7112.428" Y="-1201.948" Z="306.7885" />
								</Mailboxes>
							</SetMailbox>
							
							<!-- We are done repairing -->
							<If Condition="(Me.FreeBagSlots &gt; 15) &amp;&amp; (Me.LowestDurabilityPercent &gt; 0.3)" >
								<CustomBehavior File="Message" 
												Text="Repairing complete." 
												LogColor="Fuchsia" />
												
							</If> <!-- repaired -->

							<!-- Profile message - Moving to Blackrock Depths -->
							<CustomBehavior File="Message" 
							Text="Moving to Blackrock Depths." 
							LogColor="Lime" />
							
							<!-- Move to the chain -->
							<RunTo X="-7503.016" Y="-1153.874" Z="269.4245" />
												
							<!-- Move to Lothos -->
							<RunTo X="-7514.716" Y="-1046.491" Z="182.3" />
							
							<!-- Move to the instance box -->
							<RunTo X="-7178.41" Y="-922.152" Z="166.0919" />
								
							<!-- Instance timer check if we did repair -->
					        <CustomBehavior File="Misc\InstanceTimer" Timer="Check" />
							
						</If>	<!-- If our hearthstone is set here, use it -->
					</If> <!-- Repair if necessary -->
														
				</If> <!-- BRD -->
				
				<!-- If we are inside Blackrock Depths -->
				<If Condition="Me.ZoneId == 1584">
					<CustomBehavior File="Message" 
									Text="Blackrock Depths detected. Running out to reset."
									LogColor="Fuchsia" />
					
					<RunTo X="460.6402" Y="15.41037" Z="-71.11736" />
					
					<!-- Instance timer check if we didn't repair -->
					        <CustomBehavior File="Misc\InstanceTimer" Timer="Check" />
							
					<!-- Go through the portal -->
					<CustomBehavior File="Misc\InInstance" X="456.6543" Y="46.70397" Z="-69.00373" />	
					
					<!-- Make sure we run to the right spot outside the portal -->
					<RunTo X="-7178.41" Y="-922.152" Z="166.092" />	
				</If> <!-- BRD -->
			</While> <!-- Infinite loop -->
		</If> <!-- Booster -->
	</QuestOrder>
</HBProfile>

