<HBProfile creator="Botanist" version="1.0">
	<Name>[QO-N][Solstice][88-90]_lost-city-of-the-tol'vir</Name>
   
	<MinLevel>1</MinLevel>
	<MaxLevel>101</MaxLevel>
   
	<MinDurability>-1</MinDurability>
	<MinFreeBagSlots>-1</MinFreeBagSlots>
	
	<MailGrey>False</MailGrey>
	<MailWhite>False</MailWhite>
	<MailGreen>False</MailGreen>
	<MailBlue>False</MailBlue>
	<MailPurple>True</MailPurple>
   
	<SellGrey>True</SellGrey>
	<SellWhite>True</SellWhite>
	<SellGreen>True</SellGreen>
	<SellBlue>True</SellBlue>
	<SellPurple>False</SellPurple>
   
	<TargetElites>True</TargetElites>
		
	<AvoidMobs>		
		<Mob Name="Summon Enabler Stalker" Entry="53488" />
		<Mob Name="Karsh Steelbender" Entry="39698" />
		<Mob Name="Shadow of Obsidius" Entry="40817" />
	</AvoidMobs>
	
	<Blackspots>

	</Blackspots>

	<Mailboxes>
	</Mailboxes>
 
	<Vendors>
	</Vendors>
	
	<ProtectedItems>
	</ProtectedItems>

	<Factions></Factions>
	
	<QuestOrder>
		<ClearVendor />
		<ClearMailbox />


		<If Condition="Me.Level &gt;= 90">
		
			<CustomBehavior File="Message" 
							Text="We are a Booster." 
							LogColor="Fuchsia" />
		
		 	<!-- UserSettings -->
			<CustomBehavior File="UserSettings"
							AdvancedSettingsMode="True"
							FindMountAutomatically="True"
							GroundMountFarmingMode="False"
							HarvestHerbs="False"
							HarvestMinerals="False"
							KillBetweenHotspots="True"
							LogoutForInactivity="False"
							LogoutInactivityUseForceQuit="False"
							LootMobs="True"
							LootRadius="35"
							MountName=""
							NinjaSkin="False"
							ProfileDebuggingMode="False"
							PullDistance="25"
							RessAtSpiritHealers="False"
							SkinMobs="False"
							UseMount="True" 
							UseRandomMount="False" />
						
			<!-- Infinite loop -->
			<While Condition="true" >	
			
				<!-- If we are inside the Lost city of the Tol'vir -->
				<If Condition="Me.MapId == 755">
				
					<!-- Profile message - Lost City of the Tol'vir detected. Running out -->
					<CustomBehavior File="Message" 
									Text="Lost City of the Tol'vir detected. Running out."
									LogColor="Fuchsia" />
						
					<!-- Move to - zone in location -->
					<MoveTo X="-10720.71" Y="-1318.306" Z="17.34324" />
					
					<!-- Profile message - Waiting 3 seconds - Bag and durability check -->
					<CustomBehavior File="Message" 
									Text="Waiting 3 seconds - Bag and durability check."  
									LogColor="Orange" />
					
					<!-- Wait timer - wait 3 seconds - delay -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="3000" />
					
					<!-- If we have less then 25 empty bag slots or our durability is less than 30% -->
					<If Condition="(Me.FreeBagSlots &lt;= 25) || (Me.LowestDurabilityPercent &lt;= 0.3)" >
												
						<!-- Load profile - [QO-N][Solstice][58-90][repair-mail] -->
						<CustomBehavior File="LoadProfile" 
										ProfileName="Movement\Vendors\[QO-N][Solstice][58-90][repair-mail]" />

					</If>	<!-- If we have less then 25 empty bag slots or our durability is less than 30% -->

					<!-- Profile message - Waiting 3 seconds - Food check - Sweet Potato Bread -->
					<CustomBehavior File="Message" 
									Text="Waiting 3 seconds - Food check - Sweet Potato Bread."  
									LogColor="Orange" />
					
					<!-- Wait timer - wait 3 seconds - delay -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="3000" />
									
					<!-- If we don't have Sweet Potato Bread -->
					<If Condition="!HasItem(35950)">
			
						<!-- Load profile - [QO-N][Solstice][58-90][repair-mail] -->
						<CustomBehavior File="LoadProfile" 
										ProfileName="Movement\Vendors\[QO-N][Solstice][58-90][repair-mail]" />
			
					</If>	<!-- If we don't have Sweet Potato Bread -->
					
					<!-- Wait timer - wait 3 seconds - delay -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="3000" />
														
					<!-- Profile message - All checks complete -->
					<CustomBehavior File="Message" 
									Text="All checks complete."  
									LogColor="Orange" />
					
					<!-- Go through the portal -->
					<CustomBehavior File="Misc\InInstance"
									X="-10700.4" Y="-1312.69" Z="17.6029" />
					
					<!-- Go through the portal -->
					<CustomBehavior File="Misc\InInstance" 
									X="-10687.9" Y="-1309.086" Z="17.65984" />
					
					<!-- Move to - zone out location -->
					<MoveTo X="-10679.7" Y="-1307.1" Z="17.34246" />
					
				</If> <!-- Tol'vir -->
				
				<!-- If we are not in the Lost city of the Tol'vir instance box, load the movement profile -->
				<If Condition="Me.X &gt; -10658.9 || Me.X &lt; -10684.36 ||Me.Y &lt; -1320.377 || Me.Y &gt; -1291.219 " >
				
					<!-- Profile message - Distance from portal is not within our proximity, initializing movement to get there -->
					<CustomBehavior File="Message" 
									Text="Distance from portal is not within our proximity, initializing movement to get there."
									LogColor="Fuchsia" />
									
					<!-- Load profile - Movement\[QO-N-M][Solstice][88-90]_lost-city-of-the-tol'vir -->				
					<CustomBehavior File="LoadProfile" 
									ProfileName="Movement\[QO-N-M][Solstice][88-90]_lost-city-of-the-tol'vir" />
									
				</If>	<!-- If we are not in the Lost city of the Tol'vir instance box, load the movement profile -->

				<!-- If we are inside the Lost city of the Tol'vir instance box -->
				<If Condition="Me.X &lt; -10658.9 &amp;&amp; Me.X &gt; -10684.36 &amp;&amp; Me.Y &gt; -1320.377 &amp;&amp; Me.Y &lt; -1291.219" >
				
					<!-- If our weapon has been Runeforged with Rune of Spellshattering -->
					<If  Condition="Me.HasAura(53362)" >
						
						<!-- Profile message - Our weapon has been Rune-forged -->
						<CustomBehavior File="Message" 
										Text="Our weapon has been Runeforged with Rune of Spellshattering."  
										LogColor="Orange" />
							
						<!-- Else our weapon has not been Runeforged with Rune of Spellshattering -->	
						<Else>

							<!-- Profile message - Our weapon has not been Rune-forged -->
							<CustomBehavior File="Message" 
											Text="Our weapon has not been Runeforged with Rune of Spellshattering."  
											LogColor="Orange" />
											
							<!-- Move to - face away from the portal -->
							<MoveTo X="9132.04" Y="-1337.649" Z="1061.315" />				
											
							<!-- Custom behavior - LoadProfile - Components\Movement\Vendors\[QO-N][Solstice][58-90][weapon-enchant] -->				
							<CustomBehavior File="LoadProfile"  
											ProfileName="Movement\Vendors\[QO-N][Solstice][58-90][weapon-enchant]" />				

						</Else>	<!-- Else our weapon has not been Runeforged with Rune of Spellshattering -->
					
					</If>	<!-- If our weapon has been Runeforged with Rune of Spellshattering -->
					
					<!-- Profile message - Portal detected nearby --> 
					<CustomBehavior File="Message" 
									Text="Portal detected nearby."
									LogColor="Fuchsia" />	
						
					<!-- Profile message - Resetting the instance -->
					<CustomBehavior File="Message" 
									Text="Resetting the instance." 
									LogColor="Fuchsia" />
					
					<!-- Custom behavior - macro - reset the instance -->
					<CustomBehavior File="RunMacro" 
									Macro="/script ResetInstances()" />	
					
					<!-- Custom behavior - macro - set the dungeon difficulty to normal -->
					<CustomBehavior File="RunMacro" 
									Macro="/script SetDungeonDifficultyID(1)" />
					
					<!-- Profile message - The instance has been reset -->
					<CustomBehavior File="Message" 
									Text="The instance has been reset." 
									LogColor="Fuchsia" />	
						
					<!-- If we didn't enter the instance -->
					<While Condition="Me.MapId != 755">
					
						<!-- Move to - zone out location -->
						<MoveTo X="-10679.7" Y="-1307.1" Z="17.3427" />

						<!-- Move to - attempt to enter the instance -->
						<CustomBehavior File="Misc\InInstance" 
										X="-10687.6" Y="-1309.67" Z="17.8213" /> 
										
						<!-- Profile message - Waiting for the dungeon to load -->				
						<CustomBehavior File="Message" 
										Text="Waiting for the dungeon to load." 
										LogColor="Fuchsia" />
									
						<!-- Wait timer - wait 20-40 seconds -->			
						<CustomBehavior File="WaitTimer" 
										WaitTime="20000"
										VariantTime="20000" />
										
						<!-- If we are not in the Lost city of the Tol'vir -->
						<If Condition="Me.MapId != 755">
						
						
							<!-- Profile message - We are instance locked, initiating loop procedures until we enter the instance -->
							<CustomBehavior File="Message" 
											Text="We are instance locked, initiating loop procedures until we enter the instance." 
											LogColor="Fuchsia" />
											
						</If>	<!-- If we are not in the Lost city of the Tol'vir -->
						
					</While>	<!-- If we didn't enter the instance -->
					
				</If>	<!-- If we are inside the Lost city of the Tol'vir instance box -->
				
				
				<!-- **************************************************************************************************************************** -->
				
				
				<!-- If we are inside the Lost city of the Tol'vir -->
				<If Condition="Me.MapId == 755">

					<!-- Move to - zone in location -->
					<MoveTo X="1331.41" Y="241.904" Z="52.5046" />
					
					<!--Profile message	- Deleting unwanted items from our bags -->				
					<CustomBehavior File="Message" 
									Text="Deleting unwanted items from our bags." 
									LogColor="Orange" />

					<!-- Morning Glory Dew -->
					<CustomBehavior File="DeleteItems" 
									Ids="8766" />
									
					<!-- Major Mana Potion -->				
					<CustomBehavior File="DeleteItems" 
									Ids="13444" />	
									
					<!-- Libram of Voracity -->										
					<CustomBehavior File="DeleteItems" 
									Ids="11737" />
									
					<!-- Libram of Resilience -->
					<CustomBehavior File="DeleteItems" 
									Ids="11736" />	
									
					<!-- Roasted Quail -->
					<CustomBehavior File="DeleteItems" 
									Ids="8952" />	
									
					<!-- Superior Mana Potion -->
					<CustomBehavior File="DeleteItems" 
									Ids="22256" />	
									
					<!-- Mana Potion -->
					<CustomBehavior File="DeleteItems" 
									Ids="26480" />
									
					<!-- Light Feather -->
					<CustomBehavior File="DeleteItems" 
									Ids="17056" />
									
					<!-- Dark Iron Bullet -->
					<CustomBehavior File="DeleteItems" 
									Ids="62916" />	
									
					<!-- Mag'har Grainbread -->
					<CustomBehavior File="DeleteItems" 
									Ids="27855" />
									
					<!-- Homemade Cherry Pie -->
					<CustomBehavior File="DeleteItems" 
									Ids="8950" />
									
					<!-- Smoked Talbuk Venison -->
					<CustomBehavior File="DeleteItems" 
									Ids="27854" />		
							
					<!-- Instance timer -->
					<CustomBehavior File="Misc\InstanceTimer" 
									Timer="Start" />							
								
					<!-- Turn on autolooting -->
					<CustomBehavior File="RunMacro" 
									Macro="/script SetCVar('AutoLootDefault', 1)" 
									NumOfTimes="1" 
									WaitTime="1000" />

					<!-- Profile message - The Lost city of the Tol'vir initialized -->			
					<CustomBehavior File="Message" 
									Text="The Lost city of the Tol'vir initialized."  
									LogColor="Fuchsia" />
				
				
				<!-- **************************************************************************************************************************** -->
				
				

				
				
				
				
					<!-- @@@@@@@@@@@@@@@@@@@@ Exit @@@@@@@@@@@@@@@@@@@@ -->
				
				
					<!-- Run to the exit -->
					<MoveTo X="-10718.35" Y="-1317.63" Z="17.46929" />
					
					<!-- If we are high enough to go to the next instance, do so -->
					<CustomBehavior File="Misc\LoadProfileOn" 
									MinLevel="85" 
									ProfileName="Movement\[QO-N-M][85-stop-bot].xml"  />
					
					<!-- Profile message - Waiting 3 seconds - Bag and durability check -->
					<CustomBehavior File="Message" 
									Text="Waiting 3 seconds - Bag and durability check."  
									LogColor="Orange" />
					
					<!-- Wait timer - wait 3 seconds - delay -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="3000" />
					
					<!-- If we have less then 25 empty bag slots or our durability is less than 30% -->
					<If Condition="(Me.FreeBagSlots &lt;= 25) || (Me.LowestDurabilityPercent &lt;= 0.3)" >
												
						<!-- Load profile - [QO-N][Solstice][58-90][repair-mail] -->
						<CustomBehavior File="LoadProfile" 
										ProfileName="Movement\Vendors\[QO-N][Solstice][58-90][repair-mail]" />

					</If>	<!-- If we have less then 25 empty bag slots or our durability is less than 30% -->

					<!-- Profile message - Waiting 3 seconds - Food check - Sweet Potato Bread -->
					<CustomBehavior File="Message" 
									Text="Waiting 3 seconds - Food check - Sweet Potato Bread."  
									LogColor="Orange" />
					
					<!-- Wait timer - wait 3 seconds - delay -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="3000" />
					
					<!-- If we don't have Sweet Potato Bread -->
					<If Condition="!HasItem(35950)">

							<!-- Load profile - [QO-N][Solstice][58-90][repair-mail] -->
							<CustomBehavior File="LoadProfile" 
											ProfileName="Movement\Vendors\[QO-N][Solstice][58-90][repair-mail]" />
			
					</If>	<!-- If we don't have Sweet Potato Bread -->

					<!-- Profile message - Waiting 3 seconds - Mobile Banking check -->
					<CustomBehavior File="Message" 
									Text="Waiting 3 seconds - Mobile Banking check."  
									LogColor="Orange" />
					
					<!-- Wait timer - wait 3 seconds - delay -->
					<CustomBehavior File="WaitTimer" 
									WaitTime="3000" />
					
					<!-- If we are in a level 11 or greater guild -->
					<If Condition="Me.GuildLevel &gt;= 11">
					
						<!-- Profile message - We are in a level 11+ guild -->
						<CustomBehavior File="Message" 
										Text="We are in a level 11+ guild."  
										LogColor="Orange" />
					
						<!-- If we have friendly reputation with our guild -->
						<If Condition="Me.GetReputationLevelWith(1168) &gt;= WoWUnitReaction.Friendly">
						
						
							<!-- If we have spell (83958) - mobile banking -->
							<If Condition="SpellManager.HasSpell(&quot;Mobile Banking&quot;)">
							
								<!-- Load profile - [QO-N][Solstice][58-90][mobile-banking] -->
								<CustomBehavior File="LoadProfile" 
												ProfileName="Movement\Vendors\[QO-N][Solstice][58-90][mobile-banking]" />
								
							</If>	<!-- If we have spell (83958) - mobile banking -->
							
							<!-- If we don't have spell (83958) - mobile banking -->
							<If Condition="SpellManager.!HasSpell(&quot;Mobile Banking&quot;)">
							
								<!-- Profile message - We don't have friendly or greater reputation with our guild. Aborting Mobile Banking procedures -->
								<CustomBehavior File="Message" 
												Text="We don't have friendly or greater reputation with our guild. Aborting Mobile Banking procedures!"  
												LogColor="Red" />
								
							</If>	<!-- If we have spell (83958) - mobile banking -->

						</If>	<!-- If we have friendly reputation with our guild -->
					
						<!-- If we are not in a level 11+ guild -->
						<Else>
						
							<!-- Profile message - We are not in a level 11+ guild -->
							<CustomBehavior File="Message" 
											Text="We are not in a level 11+ guild."  
											LogColor="Red" />
						
						</Else>		<!-- If we are not in a level 11+ guild -->

					</If>	<!-- If we are in a level 11 or greater guild -->
					
					<!-- Profile message - All checks complete -->
					<CustomBehavior File="Message" 
									Text="All checks complete."  
									LogColor="Orange" />
					
				</If> <!-- If we are inside the Lost city of the Tol'vir -->
				
				<!-- If we don't need to vendor -->
				<If Condition="Me.ZoneId == 5396">
				
				
					<!-- Profile message - the Lost city of the Tol'vir detected. Running out to reset -->
					<CustomBehavior File="Message" 
									Text="The Lost city of the Tol'vir detected. Running out to reset."
									LogColor="Fuchsia" />
						
					<!-- Move to - zone in location -->
					<MoveTo X="-10718.35" Y="-1317.63" Z="17.46929" />
					
					
					<CustomBehavior File="MyCTM" 
									X="-10700.4" Y="-1312.69" Z="17.6029" />
					
					<!-- Go through the portal -->
					<CustomBehavior File="Misc\InInstance" 
									X="-10687.9" Y="-1309.086" Z="17.65984" />
					
					<!-- Move to - zone out location -->
					<MoveTo X="-10679.7" Y="-1307.1" Z="17.34246" />
					
				</If>	<!-- If we don't need to vendor -->
				
			</While> <!-- Infinite loop -->
			
		</If> <!-- Booster -->	

	</QuestOrder>
	
</HBProfile>